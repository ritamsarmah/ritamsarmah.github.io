---
import { stringifyDate } from "../utils";
import type { Post } from "../types";

const posts = Object.values(
    import.meta.glob<Post>("../pages/posts/*.mdx", { eager: true })
).sort((a, b) => b.frontmatter.date.localeCompare(a.frontmatter.date)); // Sort by descending date
---

<div>
    {
        posts.map(post => (
            <div class="mb-4">
                <a href={post.url}>
                    <h3 class="text-xl">{post.frontmatter.title}</h3>
                </a>
                <p class="text-zinc-500">
                    {stringifyDate(post.frontmatter.date)}
                </p>
            </div>
        ))
    }
</div>
