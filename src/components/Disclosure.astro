---
const { summary } = Astro.props;
---

<details>
    <summary>{summary}</summary>
    <div class="pt-2 pl-5">
        <slot />
    </div>
</details>

<style>
    details {
        padding: 0.5rem 0;
    }

    summary {
        font-weight: 600;
        cursor: pointer;
        outline: none;
        list-style: none;
        display: flex;
        align-items: center;
    }

    summary:not(:where(.not-content *))::marker,
    summary:not(:where(.not-content *))::-webkit-details-marker {
        display: none;
    }

    summary:not(:where(.not-content *))::before {
        --details-marker-size: 1.25rem;

        background-color: currentColor;
        content: "";
        display: inline-block;
        height: var(--details-marker-size);
        width: var(--details-marker-size);
        margin-inline: calc((var(--details-marker-size) / 4) * -1) 0.25rem;
        vertical-align: middle;
        -webkit-mask-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"%3E%3Cpath fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" /%3E%3C/svg%3E');
        mask-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"%3E%3Cpath fill-rule="evenodd" d="M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" /%3E%3C/svg%3E');
        -webkit-mask-repeat: no-repeat;
        mask-repeat: no-repeat;
        flex-shrink: 0;
    }

    @media (prefers-reduced-motion: no-preference) {
        summary:not(:where(.not-content *))::before {
            transition: transform 0.2s ease-in-out;
        }
    }

    details[open] > summary:not(:where(.not-content *))::before {
        transform: rotateZ(90deg);
    }
</style>
